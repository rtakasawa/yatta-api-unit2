<h1>教材詳細</h1>

<table class="table table-striped">
  <tbody>
  <tr>
    <th>教材名</th>
    <td><%= link_to @material.title, @material.path %></td>
  </tr>
  <tr>
    <th>作者</th>
    <td><%= @material.author %></td>
  </tr>
  <tr>
    <th>カテゴリー</th>
    <td><%= @material.category %></td>
  </tr>
  <tr>
    <th>タグ</th>
    <td><%= render 'materials/tag_list', tag_list: @material.tag_list %></td>
  </tr>
  <tr>
    <th>備考（メモ等）</th>
    <td><%= @material.note %></td>
  </tr>
  </tbody>
</table>

<%= link_to "編集", edit_material_path(@material), class: "btn btn-primary", role: "button" %>
<%= link_to "削除", @material, method: :delete, data: { confirm: "本当に削除してもいいですか？" }, class: "btn btn-primary", role: "button" %>

<h2>学習記録</h2>
<% if @works.present? %>
  <%= paginate @works, class: "paginate"  %>
  <%= page_entries_info @works %>
  <table class="table table-striped">
    <thead>
    <tr>
      <th>学習記録日</th>
      <th>学習量（開始したページ）</th>
      <th>学習量（終了したページ）</th>
      <th>学習ステータス（未完了・完了）</th>
    </tr>
    </thead>
    <tbody>
    <% @works.each do |work| %>
      <tr>
        <td><%= link_to work.updated_at.strftime("%Y-%m-%d %H:%M"), work_path(work) %></td>
        <td><%= work.start %></td>
        <td><%= work.finish %></td>
        <td><%= work.status %></td>
        <td><%= link_to "詳細", work %></td>
        <td><%= link_to "編集", edit_work_path(work) %></td>
        <td><%= link_to "削除", work, method: :delete, data: { confirm: "本当に削除してもいいですか？" } %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
  <% else %>
  <p>学習記録の登録はありません</p>
<% end %>